{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{register}from\"../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterForm=()=>{const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[role,setRole]=useState(\"USER\");const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError(\"\");setSuccess(\"\");if(username.length<3)return setError(\"Username must be at least 3 chars\");if(password.length<6)return setError(\"Password must be at least 6 chars\");try{await register({username,password,role});setSuccess(\"Registration successful! Redirecting to login...\");setTimeout(()=>navigate(\"/login\"),2000);}catch(err){if(err.response){setError(typeof err.response.data===\"string\"?err.response.data:\"Registration failed\");}else if(err.request){setError(\"Cannot connect to server.\");}else{setError(\"Unexpected error occurred.\");}console.error(\"Registration error:\",err);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),success&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"green\"},children:success}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{value:role,onChange:e=>setRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"USER\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"REVIEWER\",children:\"Reviewer\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]});};export default RegisterForm;","map":{"version":3,"names":["React","useState","useNavigate","register","jsx","_jsx","jsxs","_jsxs","RegisterForm","username","setUsername","password","setPassword","role","setRole","error","setError","success","setSuccess","navigate","handleSubmit","e","preventDefault","length","setTimeout","err","response","data","request","console","onSubmit","children","style","color","type","value","onChange","target","required"],"sources":["C:/Users/Admin/OneDrive/Máy tính/Báo cáo project 1/SHTT_NEW/ip-management-frontend/src/components/RegisterForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { register } from \"../services/api\";\n\nconst RegisterForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"USER\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n\n    if (username.length < 3)\n      return setError(\"Username must be at least 3 chars\");\n    if (password.length < 6)\n      return setError(\"Password must be at least 6 chars\");\n\n    try {\n      await register({ username, password, role });\n      setSuccess(\"Registration successful! Redirecting to login...\");\n      setTimeout(() => navigate(\"/login\"), 2000);\n    } catch (err) {\n      if (err.response) {\n        setError(\n          typeof err.response.data === \"string\"\n            ? err.response.data\n            : \"Registration failed\"\n        );\n      } else if (err.request) {\n        setError(\"Cannot connect to server.\");\n      } else {\n        setError(\"Unexpected error occurred.\");\n      }\n      console.error(\"Registration error:\", err);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h2>Register</h2>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      {success && <p style={{ color: \"green\" }}>{success}</p>}\n      <div>\n        <label>Username</label>\n        <input\n          type=\"text\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          required\n        />\n      </div>\n      <div>\n        <label>Password</label>\n        <input\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n      </div>\n      <div>\n        <label>Role</label>\n        <select value={role} onChange={(e) => setRole(e.target.value)}>\n          <option value=\"USER\">User</option>\n          <option value=\"REVIEWER\">Reviewer</option>\n        </select>\n      </div>\n      <button type=\"submit\">Register</button>\n    </form>\n  );\n};\n\nexport default RegisterForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}