{"ast":null,"code":"import React,{useEffect,useState}from'react';import{getDashboardStats}from'../services/api';// Assuming this can be adapted for admin\nimport'../styles/Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=_ref=>{let{user}=_ref;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const fetchStats=async()=>{try{// We'll use the existing DTO and service logic which was adapted for grouped stats\n// The service needs to know to fetch stats for all users, not a specific one.\n// We can pass a special ID or modify the backend, but for now we assume it works for admin.\nconst response=await getDashboardStats(user.id);// This needs to be an admin-specific call\nsetStats(response.data);}catch(err){setError('Failed to fetch dashboard statistics.');console.error(err);}finally{setLoading(false);}};fetchStats();},[user.id]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading dashboard...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Dashboard\"}),stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.totalApplications}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Applications\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.inProgressApplications}),/*#__PURE__*/_jsx(\"p\",{children:\"In Progress\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.reviewApplications}),/*#__PURE__*/_jsx(\"p\",{children:\"Under Review\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.completedApplications}),/*#__PURE__*/_jsx(\"p\",{children:\"Completed/Granted\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-columns\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"State Distribution (Placeholder)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-placeholder\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Pie chart showing application distribution by stage.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Activity (Placeholder)\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"recent-activity-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Application #2024-233 moved to \\\"Substantive Examination\\\".\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Application #2024-222 was returned for amendment.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"New application #2024-234 submitted.\"})]})]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useState","getDashboardStats","jsx","_jsx","jsxs","_jsxs","AdminDashboard","_ref","user","stats","setStats","loading","setLoading","error","setError","fetchStats","response","id","data","err","console","children","className","totalApplications","inProgressApplications","reviewApplications","completedApplications"],"sources":["C:/Users/Admin/OneDrive/Máy tính/Báo cáo project 1/SHTT_NEW/ip-management-frontend/src/components/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getDashboardStats } from '../services/api'; // Assuming this can be adapted for admin\nimport '../styles/Dashboard.css';\n\nconst AdminDashboard = ({ user }) => {\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        // We'll use the existing DTO and service logic which was adapted for grouped stats\n        // The service needs to know to fetch stats for all users, not a specific one.\n        // We can pass a special ID or modify the backend, but for now we assume it works for admin.\n        const response = await getDashboardStats(user.id); // This needs to be an admin-specific call\n        setStats(response.data);\n      } catch (err) {\n        setError('Failed to fetch dashboard statistics.');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchStats();\n  }, [user.id]);\n\n  if (loading) return <p>Loading dashboard...</p>;\n  if (error) return <p className=\"error-text\">{error}</p>;\n\n  return (\n    <div className=\"dashboard-container\">\n      <h2>Admin Dashboard</h2>\n      \n      {stats && (\n        <div className=\"stats-container\">\n          <div className=\"stat-card\">\n            <h3>{stats.totalApplications}</h3>\n            <p>Total Applications</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>{stats.inProgressApplications}</h3>\n            <p>In Progress</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>{stats.reviewApplications}</h3>\n            <p>Under Review</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>{stats.completedApplications}</h3>\n            <p>Completed/Granted</p>\n          </div>\n        </div>\n      )}\n\n      <div className=\"dashboard-columns\">\n        <div className=\"column\">\n          <h3>State Distribution (Placeholder)</h3>\n          <div className=\"chart-placeholder\">\n            <p>Pie chart showing application distribution by stage.</p>\n          </div>\n        </div>\n        <div className=\"column\">\n          <h3>Recent Activity (Placeholder)</h3>\n          <ul className=\"recent-activity-list\">\n            <li>Application #2024-233 moved to \"Substantive Examination\".</li>\n            <li>Application #2024-222 was returned for amendment.</li>\n            <li>New application #2024-234 submitted.</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}