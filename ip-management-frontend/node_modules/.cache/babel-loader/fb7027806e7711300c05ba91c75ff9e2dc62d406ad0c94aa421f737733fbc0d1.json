{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{getApplicationById,updateApplicationStatus,downloadFile}from'../services/api';import'../styles/Buttons.css';import'../styles/Form.css';import'../styles/App.css';// For workflow styles\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const detailContainerStyle={maxWidth:'800px',margin:'2rem auto'};const detailStyle={padding:'2rem',background:'#fff',borderRadius:'8px',boxShadow:'0 4px 10px rgba(0, 0, 0, 0.1)'};const sectionStyle={marginBottom:'2rem'};const fileListStyle={listStyle:'none',padding:0};const fileListItemStyle={display:'flex',justifyContent:'space-between',alignItems:'center',padding:'10px',borderBottom:'1px solid #eee'};const formatStatus=status=>{if(!status)return'N/A';return status.toLowerCase().replace(/_/g,' ').replace(/(?: |\\b)(\\w)/g,char=>char.toUpperCase());};const STAGES=['DRAFTING_AND_FILING','FORMALITY_EXAMINATION','APPLICATION_PUBLICATION','SUBSTANTIVE_EXAMINATION_REQUEST','SUBSTANTIVE_EXAMINATION','FEE_PAYMENT_AND_GRANT'];const ApplicationDetail=_ref=>{var _application$files;let{user}=_ref;const{id}=useParams();const navigate=useNavigate();const[application,setApplication]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[isAuthorized,setIsAuthorized]=useState(false);const[rejectionReason,setRejectionReason]=useState('');const[statusChangeError,setStatusChangeError]=useState('');useEffect(()=>{const fetchApplication=async()=>{try{const response=await getApplicationById(id);const fetchedApp=response.data;setApplication(fetchedApp);if(user.role==='REVIEWER'||user.role==='USER'&&fetchedApp.submittedByUsername===user.username){setIsAuthorized(true);}}catch(err){setError('Failed to fetch application details.');}finally{setLoading(false);}};if(user)fetchApplication();},[id,user]);const handleStatusUpdate=async function(newStatus){let reason=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';setStatusChangeError('');try{const response=await updateApplicationStatus(id,{status:newStatus,rejectionReason:reason});setApplication(response.data);setRejectionReason('');}catch(err){var _err$response,_err$response$data;setStatusChangeError(\"Failed to update status: \".concat(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message));}};const handleFileDownload=async file=>{try{await downloadFile(file.id,file.fileName);}catch(err){setError(\"Failed to download file \".concat(file.fileName,\".\"));}};if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading application details...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error});if(!isAuthorized)return/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"You are not authorized to view this application.\"});if(!application)return/*#__PURE__*/_jsx(\"p\",{children:\"No application found.\"});const isReviewer=user.role==='REVIEWER';const isOwner=user.username===application.submittedByUsername;const currentStatusIndex=STAGES.indexOf(application.status);const renderReviewerActions=()=>{switch(application.status){case'FORMALITY_EXAMINATION':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate('APPLICATION_PUBLICATION'),children:\"Pass Formality Check\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Provide reason for rejection\",value:rejectionReason,onChange:e=>setRejectionReason(e.target.value),rows:\"3\",style:{width:'100%',marginBottom:'0.5rem'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate('DRAFTING_AND_FILING',rejectionReason),disabled:!rejectionReason,className:\"button-danger\",children:\"Return to User for Correction\"})]})]});case'APPLICATION_PUBLICATION':return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate('SUBSTANTIVE_EXAMINATION_REQUEST'),children:\"Publish Application\"});case'SUBSTANTIVE_EXAMINATION':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate('FEE_PAYMENT_AND_GRANT'),children:\"Pass Substantive Examination\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate('DRAFTING_AND_FILING','Failed substantive examination.'),className:\"button-danger\",children:\"Reject Application\"})]});default:return/*#__PURE__*/_jsx(\"p\",{children:\"No actions available at this stage.\"});}};const renderUserActions=()=>{switch(application.status){case'DRAFTING_AND_FILING':return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate('FORMALITY_EXAMINATION'),children:\"Submit for Examination\"});case'SUBSTANTIVE_EXAMINATION_REQUEST':return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate('SUBSTANTIVE_EXAMINATION'),children:\"Activate Substantive Examination\"});case'FEE_PAYMENT_AND_GRANT':return/*#__PURE__*/_jsx(\"button\",{children:\"Pay Fee & Receive Patent\"});// Placeholder\ndefault:return null;}};return/*#__PURE__*/_jsxs(\"div\",{style:detailContainerStyle,children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-link-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"back-link\",style:{background:'none',border:'none',cursor:'pointer',padding:0},children:\"\\u2190 Back to List\"})}),/*#__PURE__*/_jsxs(\"div\",{style:detailStyle,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Application Details\"}),/*#__PURE__*/_jsxs(\"div\",{style:sectionStyle,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Workflow\"}),/*#__PURE__*/_jsx(\"div\",{className:\"workflow-container\",children:STAGES.map((stage,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-stage \".concat(index===currentStatusIndex?'active':'',\" \").concat(index<currentStatusIndex?'completed':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"workflow-dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"workflow-label\",children:formatStatus(stage)})]},stage))})]}),/*#__PURE__*/_jsxs(\"div\",{style:sectionStyle,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",application.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"}),\" \",application.title]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",application.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Submitted By:\"}),\" \",application.submittedByUsername]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current Status:\"}),\" \",/*#__PURE__*/_jsx(\"strong\",{children:formatStatus(application.status)})]}),application.rejectionReason&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'red'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rejection Reason:\"}),\" \",application.rejectionReason]})]}),((_application$files=application.files)===null||_application$files===void 0?void 0:_application$files.length)>0&&/*#__PURE__*/_jsxs(\"div\",{style:sectionStyle,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Attached Files\"}),/*#__PURE__*/_jsx(\"ul\",{style:fileListStyle,children:application.files.map(file=>/*#__PURE__*/_jsxs(\"li\",{style:fileListItemStyle,children:[/*#__PURE__*/_jsx(\"span\",{children:file.fileName}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFileDownload(file),children:\"Download\"})]},file.id))})]}),statusChangeError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:statusChangeError}),isReviewer&&!isOwner&&/*#__PURE__*/_jsxs(\"div\",{style:sectionStyle,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Reviewer Actions\"}),renderReviewerActions()]}),isOwner&&/*#__PURE__*/_jsxs(\"div\",{style:sectionStyle,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"My Actions\"}),renderUserActions()]})]})]});};export default ApplicationDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","getApplicationById","updateApplicationStatus","downloadFile","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","detailContainerStyle","maxWidth","margin","detailStyle","padding","background","borderRadius","boxShadow","sectionStyle","marginBottom","fileListStyle","listStyle","fileListItemStyle","display","justifyContent","alignItems","borderBottom","formatStatus","status","toLowerCase","replace","char","toUpperCase","STAGES","ApplicationDetail","_ref","_application$files","user","id","navigate","application","setApplication","loading","setLoading","error","setError","isAuthorized","setIsAuthorized","rejectionReason","setRejectionReason","statusChangeError","setStatusChangeError","fetchApplication","response","fetchedApp","data","role","submittedByUsername","username","err","handleStatusUpdate","newStatus","reason","arguments","length","undefined","_err$response","_err$response$data","concat","message","handleFileDownload","file","fileName","children","style","color","isReviewer","isOwner","currentStatusIndex","indexOf","renderReviewerActions","onClick","marginTop","placeholder","value","onChange","e","target","rows","width","disabled","className","renderUserActions","border","cursor","map","stage","index","title","description","files"],"sources":["C:/Users/Admin/OneDrive/Máy tính/Báo cáo project 1/SHTT_NEW/ip-management-frontend/src/components/ApplicationDetail.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getApplicationById, updateApplicationStatus, downloadFile } from '../services/api';\r\nimport '../styles/Buttons.css';\r\nimport '../styles/Form.css';\r\nimport '../styles/App.css'; // For workflow styles\r\n\r\nconst detailContainerStyle = {\r\n  maxWidth: '800px',\r\n  margin: '2rem auto',\r\n};\r\n\r\nconst detailStyle = {\r\n  padding: '2rem',\r\n  background: '#fff',\r\n  borderRadius: '8px',\r\n  boxShadow: '0 4px 10px rgba(0, 0, 0, 0.1)',\r\n};\r\n\r\nconst sectionStyle = {\r\n  marginBottom: '2rem',\r\n};\r\n\r\nconst fileListStyle = {\r\n  listStyle: 'none',\r\n  padding: 0,\r\n};\r\n\r\nconst fileListItemStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  padding: '10px',\r\n  borderBottom: '1px solid #eee',\r\n};\r\n\r\nconst formatStatus = (status) => {\r\n  if (!status) return 'N/A';\r\n  return status\r\n    .toLowerCase()\r\n    .replace(/_/g, ' ')\r\n    .replace(/(?: |\\b)(\\w)/g, (char) => char.toUpperCase());\r\n};\r\n\r\nconst STAGES = [\r\n  'DRAFTING_AND_FILING',\r\n  'FORMALITY_EXAMINATION',\r\n  'APPLICATION_PUBLICATION',\r\n  'SUBSTANTIVE_EXAMINATION_REQUEST',\r\n  'SUBSTANTIVE_EXAMINATION',\r\n  'FEE_PAYMENT_AND_GRANT',\r\n];\r\n\r\nconst ApplicationDetail = ({ user }) => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [application, setApplication] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [isAuthorized, setIsAuthorized] = useState(false);\r\n  const [rejectionReason, setRejectionReason] = useState('');\r\n  const [statusChangeError, setStatusChangeError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchApplication = async () => {\r\n      try {\r\n        const response = await getApplicationById(id);\r\n        const fetchedApp = response.data;\r\n        setApplication(fetchedApp);\r\n\r\n        if (user.role === 'REVIEWER' || (user.role === 'USER' && fetchedApp.submittedByUsername === user.username)) {\r\n          setIsAuthorized(true);\r\n        }\r\n      } catch (err) {\r\n        setError('Failed to fetch application details.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    if (user) fetchApplication();\r\n  }, [id, user]);\r\n\r\n  const handleStatusUpdate = async (newStatus, reason = '') => {\r\n    setStatusChangeError('');\r\n    try {\r\n      const response = await updateApplicationStatus(id, { status: newStatus, rejectionReason: reason });\r\n      setApplication(response.data);\r\n      setRejectionReason('');\r\n    } catch (err) {\r\n      setStatusChangeError(`Failed to update status: ${err.response?.data?.message || err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleFileDownload = async (file) => {\r\n    try {\r\n      await downloadFile(file.id, file.fileName);\r\n    } catch (err) {\r\n      setError(`Failed to download file ${file.fileName}.`);\r\n    }\r\n  };\r\n\r\n  if (loading) return <p>Loading application details...</p>;\r\n  if (error) return <p style={{ color: 'red' }}>{error}</p>;\r\n  if (!isAuthorized) return <p style={{ color: 'red' }}>You are not authorized to view this application.</p>;\r\n  if (!application) return <p>No application found.</p>;\r\n\r\n  const isReviewer = user.role === 'REVIEWER';\r\n  const isOwner = user.username === application.submittedByUsername;\r\n  const currentStatusIndex = STAGES.indexOf(application.status);\r\n\r\n  const renderReviewerActions = () => {\r\n    switch (application.status) {\r\n      case 'FORMALITY_EXAMINATION':\r\n        return (\r\n          <>\r\n            <button onClick={() => handleStatusUpdate('APPLICATION_PUBLICATION')}>Pass Formality Check</button>\r\n            <div style={{ marginTop: '1rem' }}>\r\n              <textarea\r\n                placeholder=\"Provide reason for rejection\"\r\n                value={rejectionReason}\r\n                onChange={(e) => setRejectionReason(e.target.value)}\r\n                rows=\"3\"\r\n                style={{ width: '100%', marginBottom: '0.5rem' }}\r\n              />\r\n              <button\r\n                onClick={() => handleStatusUpdate('DRAFTING_AND_FILING', rejectionReason)}\r\n                disabled={!rejectionReason}\r\n                className=\"button-danger\"\r\n              >\r\n                Return to User for Correction\r\n              </button>\r\n            </div>\r\n          </>\r\n        );\r\n      case 'APPLICATION_PUBLICATION':\r\n        return <button onClick={() => handleStatusUpdate('SUBSTANTIVE_EXAMINATION_REQUEST')}>Publish Application</button>;\r\n      case 'SUBSTANTIVE_EXAMINATION':\r\n        return (\r\n          <>\r\n            <button onClick={() => handleStatusUpdate('FEE_PAYMENT_AND_GRANT')}>Pass Substantive Examination</button>\r\n            <button onClick={() => handleStatusUpdate('DRAFTING_AND_FILING', 'Failed substantive examination.')} className=\"button-danger\">\r\n              Reject Application\r\n            </button>\r\n          </>\r\n        );\r\n      default:\r\n        return <p>No actions available at this stage.</p>;\r\n    }\r\n  };\r\n\r\n  const renderUserActions = () => {\r\n    switch (application.status) {\r\n      case 'DRAFTING_AND_FILING':\r\n        return <button onClick={() => handleStatusUpdate('FORMALITY_EXAMINATION')}>Submit for Examination</button>;\r\n      case 'SUBSTANTIVE_EXAMINATION_REQUEST':\r\n        return <button onClick={() => handleStatusUpdate('SUBSTANTIVE_EXAMINATION')}>Activate Substantive Examination</button>;\r\n      case 'FEE_PAYMENT_AND_GRANT':\r\n        return <button>Pay Fee & Receive Patent</button>; // Placeholder\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={detailContainerStyle}>\r\n      <div className=\"back-link-container\">\r\n        <button onClick={() => navigate(-1)} className=\"back-link\" style={{ background: 'none', border: 'none', cursor: 'pointer', padding: 0 }}>\r\n          ← Back to List\r\n        </button>\r\n      </div>\r\n      <div style={detailStyle}>\r\n        <h2>Application Details</h2>\r\n\r\n        <div style={sectionStyle}>\r\n          <h3>Workflow</h3>\r\n          <div className=\"workflow-container\">\r\n            {STAGES.map((stage, index) => (\r\n              <div key={stage} className={`workflow-stage ${index === currentStatusIndex ? 'active' : ''} ${index < currentStatusIndex ? 'completed' : ''}`}>\r\n                <div className=\"workflow-dot\"></div>\r\n                <div className=\"workflow-label\">{formatStatus(stage)}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        \r\n        <div style={sectionStyle}>\r\n          <p><strong>ID:</strong> {application.id}</p>\r\n          <p><strong>Title:</strong> {application.title}</p>\r\n          <p><strong>Description:</strong> {application.description}</p>\r\n          <p><strong>Submitted By:</strong> {application.submittedByUsername}</p>\r\n          <p><strong>Current Status:</strong> <strong>{formatStatus(application.status)}</strong></p>\r\n          {application.rejectionReason && (\r\n            <p style={{ color: 'red' }}><strong>Rejection Reason:</strong> {application.rejectionReason}</p>\r\n          )}\r\n        </div>\r\n\r\n        {application.files?.length > 0 && (\r\n          <div style={sectionStyle}>\r\n            <h3>Attached Files</h3>\r\n            <ul style={fileListStyle}>\r\n              {application.files.map((file) => (\r\n                <li key={file.id} style={fileListItemStyle}>\r\n                  <span>{file.fileName}</span>\r\n                  <button onClick={() => handleFileDownload(file)}>Download</button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        {statusChangeError && <p style={{ color: 'red' }}>{statusChangeError}</p>}\r\n\r\n        {isReviewer && !isOwner && (\r\n          <div style={sectionStyle}>\r\n            <h3>Reviewer Actions</h3>\r\n            {renderReviewerActions()}\r\n          </div>\r\n        )}\r\n\r\n        {isOwner && (\r\n          <div style={sectionStyle}>\r\n            <h3>My Actions</h3>\r\n            {renderUserActions()}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApplicationDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}