{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\B\\xE1o c\\xE1o project 1\\\\SHTT_NEW\\\\ip-management-frontend\\\\src\\\\components\\\\ApplicationDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { getApplicationById, updateApplicationStatus, downloadFile } from '../services/api';\nimport Modal from './Modal';\nimport '../styles/Buttons.css';\nimport '../styles/Form.css';\nimport '../styles/App.css';\nimport '../styles/ApplicationDetail.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatStatus = status => {\n  if (!status) return 'N/A';\n  return status.toLowerCase().replace(/_/g, ' ').replace(/(?: |\\b)(\\w)/g, char => char.toUpperCase());\n};\nconst STAGES = ['DRAFTING_AND_FILING', 'FORMALITY_EXAMINATION', 'APPLICATION_PUBLICATION', 'SUBSTANTIVE_EXAMINATION_REQUEST', 'SUBSTANTIVE_EXAMINATION', 'FEE_PAYMENT_AND_GRANT'];\nconst ApplicationDetail = ({\n  user\n}) => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n\n  // Component State\n  const [application, setApplication] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isAuthorized, setIsAuthorized] = useState(false);\n  const [statusChangeError, setStatusChangeError] = useState('');\n\n  // Reviewer-specific state\n  const [adminTab, setAdminTab] = useState('dossier');\n  const [modalAction, setModalAction] = useState(null); // e.g., 'reject', 'requestInfo'\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [rejectionReason, setRejectionReason] = useState('');\n  useEffect(() => {\n    const fetchApplication = async () => {\n      try {\n        const response = await getApplicationById(id);\n        const fetchedApp = response.data;\n        setApplication(fetchedApp);\n        if (user.role === 'REVIEWER' || user.role === 'USER' && fetchedApp.submittedByUsername === user.username) {\n          setIsAuthorized(true);\n        }\n      } catch (err) {\n        setError('Failed to fetch application details.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (user) fetchApplication();\n  }, [id, user]);\n  const handleStatusUpdate = async (newStatus, reason = '') => {\n    setStatusChangeError('');\n    try {\n      const response = await updateApplicationStatus(id, {\n        status: newStatus,\n        rejectionReason: reason\n      });\n      setApplication(response.data);\n      setRejectionReason('');\n      setIsModalOpen(false);\n      setModalAction(null);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setStatusChangeError(`Failed to update status: ${((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message}`);\n    }\n  };\n  const openModal = action => {\n    setModalAction(action);\n    setIsModalOpen(true);\n  };\n  const renderReviewerActions = () => {\n    const status = application.status;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Action Panel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), status === 'FORMALITY_EXAMINATION' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-success\",\n          onClick: () => handleStatusUpdate('APPLICATION_PUBLICATION'),\n          children: \"\\u2714 Pass Formality Check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-warning\",\n          onClick: () => openModal('requestCorrection'),\n          children: \"\\u274C Request Correction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), status === 'APPLICATION_PUBLICATION' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleStatusUpdate('SUBSTANTIVE_EXAMINATION_REQUEST'),\n        children: \"\\uD83D\\uDCE3 Publish Application\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 50\n      }, this), status === 'SUBSTANTIVE_EXAMINATION_REQUEST' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleStatusUpdate('SUBSTANTIVE_EXAMINATION'),\n        children: \"\\u2714 Confirm Request\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 58\n      }, this), status === 'SUBSTANTIVE_EXAMINATION' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-success\",\n          onClick: () => handleStatusUpdate('FEE_PAYMENT_AND_GRANT'),\n          children: \"\\u2714 Pass Substantive Exam\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-danger\",\n          onClick: () => openModal('reject'),\n          children: \"\\u274C Reject Application\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), status === 'FEE_PAYMENT_AND_GRANT' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Waiting for user to pay the fee.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 48\n      }, this), status === 'DRAFTING_AND_FILING' && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Waiting for user to submit.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 46\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  };\n  const renderUserActions = () => {\n    const status = application.status;\n    if (application.rejectionReason && status === 'DRAFTING_AND_FILING') {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: `/applications/${id}/amend`,\n        className: \"button-primary\",\n        children: \"\\u270F\\uFE0F Amend and Resubmit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 14\n      }, this);\n    }\n    switch (status) {\n      case 'DRAFTING_AND_FILING':\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleStatusUpdate('FORMALITY_EXAMINATION'),\n          children: \"Submit for Examination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 16\n        }, this);\n      case 'SUBSTANTIVE_EXAMINATION_REQUEST':\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleStatusUpdate('SUBSTANTIVE_EXAMINATION'),\n          children: \"Activate Substantive Examination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 16\n        }, this);\n      case 'FEE_PAYMENT_AND_GRANT':\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: `/applications/${id}/payment`,\n          className: \"button-success\",\n          children: \"Pay Fee & Receive Patent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No actions available at this stage. Please wait for the reviewer.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const renderModalContent = () => {\n    if (!modalAction) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Reason:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: rejectionReason,\n          onChange: e => setRejectionReason(e.target.value),\n          rows: \"4\",\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button-primary\",\n        onClick: () => handleStatusUpdate('DRAFTING_AND_FILING', rejectionReason),\n        disabled: !rejectionReason,\n        children: \"Confirm & Send to User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading application details...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"error-text\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 21\n  }, this);\n  if (!isAuthorized) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"error-text\",\n    children: \"You are not authorized to view this application.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 29\n  }, this);\n  if (!application) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"No application found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 28\n  }, this);\n  const isReviewer = user.role === 'REVIEWER';\n  const currentStatusIndex = STAGES.indexOf(application.status);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      title: `Action: ${formatStatus(modalAction)}`,\n      children: renderModalContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: application.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"ID: \", application.id, \" | Submitted by: \", application.submittedByUsername]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `status-badge ${application.status.toLowerCase()}`,\n        children: formatStatus(application.status)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"workflow-container\",\n      children: STAGES.map((stage, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `workflow-stage ${index === currentStatusIndex ? 'active' : ''} ${index < currentStatusIndex ? 'completed' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"workflow-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"workflow-label\",\n          children: formatStatus(stage)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, stage, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), statusChangeError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-text\",\n      style: {\n        textAlign: 'center'\n      },\n      children: statusChangeError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }, this), isReviewer ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reviewer-view\",\n      children: [renderReviewerActions(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-navigation\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAdminTab('dossier'),\n            className: adminTab === 'dossier' ? 'active' : '',\n            children: \"Dossier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAdminTab('notes'),\n            className: adminTab === 'notes' ? 'active' : '',\n            children: \"Review Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setAdminTab('history'),\n            className: adminTab === 'history' ? 'active' : '',\n            children: \"History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-content\",\n          children: [adminTab === 'dossier' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Application Dossier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Description:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 24\n              }, this), \" \", application.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 19\n          }, this), adminTab === 'notes' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Internal review notes placeholder.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 40\n          }, this), adminTab === 'history' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Application state history placeholder.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Application Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 18\n          }, this), \" \", application.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }, this), application.rejectionReason && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Reason for Amendment:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 54\n          }, this), \" \", application.rejectionReason]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this), renderUserActions()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(ApplicationDetail, \"uuv1yh31FNxG2xgFJ7efgzyrCxY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ApplicationDetail;\nexport default ApplicationDetail;\nvar _c;\n$RefreshReg$(_c, \"ApplicationDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","getApplicationById","updateApplicationStatus","downloadFile","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","formatStatus","status","toLowerCase","replace","char","toUpperCase","STAGES","ApplicationDetail","user","_s","id","navigate","application","setApplication","loading","setLoading","error","setError","isAuthorized","setIsAuthorized","statusChangeError","setStatusChangeError","adminTab","setAdminTab","modalAction","setModalAction","isModalOpen","setIsModalOpen","rejectionReason","setRejectionReason","fetchApplication","response","fetchedApp","data","role","submittedByUsername","username","err","handleStatusUpdate","newStatus","reason","_err$response","_err$response$data","message","openModal","action","renderReviewerActions","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","renderUserActions","to","renderModalContent","value","onChange","e","target","rows","style","width","disabled","isReviewer","currentStatusIndex","indexOf","isOpen","onClose","title","map","stage","index","textAlign","description","_c","$RefreshReg$"],"sources":["C:/Users/Admin/OneDrive/M√°y t√≠nh/B√°o c√°o project 1/SHTT_NEW/ip-management-frontend/src/components/ApplicationDetail.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport { getApplicationById, updateApplicationStatus, downloadFile } from '../services/api';\r\nimport Modal from './Modal';\r\nimport '../styles/Buttons.css';\r\nimport '../styles/Form.css';\r\nimport '../styles/App.css';\r\nimport '../styles/ApplicationDetail.css';\r\n\r\nconst formatStatus = (status) => {\r\n  if (!status) return 'N/A';\r\n  return status.toLowerCase().replace(/_/g, ' ').replace(/(?: |\\b)(\\w)/g, (char) => char.toUpperCase());\r\n};\r\n\r\nconst STAGES = [\r\n  'DRAFTING_AND_FILING', 'FORMALITY_EXAMINATION', 'APPLICATION_PUBLICATION',\r\n  'SUBSTANTIVE_EXAMINATION_REQUEST', 'SUBSTANTIVE_EXAMINATION', 'FEE_PAYMENT_AND_GRANT'\r\n];\r\n\r\nconst ApplicationDetail = ({ user }) => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  // Component State\r\n  const [application, setApplication] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [isAuthorized, setIsAuthorized] = useState(false);\r\n  const [statusChangeError, setStatusChangeError] = useState('');\r\n  \r\n  // Reviewer-specific state\r\n  const [adminTab, setAdminTab] = useState('dossier');\r\n  const [modalAction, setModalAction] = useState(null); // e.g., 'reject', 'requestInfo'\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [rejectionReason, setRejectionReason] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchApplication = async () => {\r\n      try {\r\n        const response = await getApplicationById(id);\r\n        const fetchedApp = response.data;\r\n        setApplication(fetchedApp);\r\n        if (user.role === 'REVIEWER' || (user.role === 'USER' && fetchedApp.submittedByUsername === user.username)) {\r\n          setIsAuthorized(true);\r\n        }\r\n      } catch (err) {\r\n        setError('Failed to fetch application details.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    if (user) fetchApplication();\r\n  }, [id, user]);\r\n\r\n  const handleStatusUpdate = async (newStatus, reason = '') => {\r\n    setStatusChangeError('');\r\n    try {\r\n      const response = await updateApplicationStatus(id, { status: newStatus, rejectionReason: reason });\r\n      setApplication(response.data);\r\n      setRejectionReason('');\r\n      setIsModalOpen(false);\r\n      setModalAction(null);\r\n    } catch (err) {\r\n      setStatusChangeError(`Failed to update status: ${err.response?.data?.message || err.message}`);\r\n    }\r\n  };\r\n  \r\n  const openModal = (action) => {\r\n    setModalAction(action);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const renderReviewerActions = () => {\r\n    const status = application.status;\r\n    return (\r\n      <div className=\"action-panel\">\r\n        <h4>Action Panel</h4>\r\n        {status === 'FORMALITY_EXAMINATION' && (\r\n          <>\r\n            <button className=\"button-success\" onClick={() => handleStatusUpdate('APPLICATION_PUBLICATION')}>‚úî Pass Formality Check</button>\r\n            <button className=\"button-warning\" onClick={() => openModal('requestCorrection')}>‚ùå Request Correction</button>\r\n          </>\r\n        )}\r\n        {status === 'APPLICATION_PUBLICATION' && <button onClick={() => handleStatusUpdate('SUBSTANTIVE_EXAMINATION_REQUEST')}>üì£ Publish Application</button>}\r\n        {status === 'SUBSTANTIVE_EXAMINATION_REQUEST' && <button onClick={() => handleStatusUpdate('SUBSTANTIVE_EXAMINATION')}>‚úî Confirm Request</button>}\r\n        {status === 'SUBSTANTIVE_EXAMINATION' && (\r\n          <>\r\n            <button className=\"button-success\" onClick={() => handleStatusUpdate('FEE_PAYMENT_AND_GRANT')}>‚úî Pass Substantive Exam</button>\r\n            <button className=\"button-danger\" onClick={() => openModal('reject')}>‚ùå Reject Application</button>\r\n          </>\r\n        )}\r\n        {status === 'FEE_PAYMENT_AND_GRANT' && <p>Waiting for user to pay the fee.</p>}\r\n        {status === 'DRAFTING_AND_FILING' && <p>Waiting for user to submit.</p>}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderUserActions = () => {\r\n    const status = application.status;\r\n     if (application.rejectionReason && status === 'DRAFTING_AND_FILING') {\r\n      return <Link to={`/applications/${id}/amend`} className=\"button-primary\">‚úèÔ∏è Amend and Resubmit</Link>;\r\n    }\r\n    switch (status) {\r\n      case 'DRAFTING_AND_FILING':\r\n        return <button onClick={() => handleStatusUpdate('FORMALITY_EXAMINATION')}>Submit for Examination</button>;\r\n      case 'SUBSTANTIVE_EXAMINATION_REQUEST':\r\n        return <button onClick={() => handleStatusUpdate('SUBSTANTIVE_EXAMINATION')}>Activate Substantive Examination</button>;\r\n      case 'FEE_PAYMENT_AND_GRANT':\r\n        return <Link to={`/applications/${id}/payment`} className=\"button-success\">Pay Fee & Receive Patent</Link>;\r\n      default:\r\n        return <p>No actions available at this stage. Please wait for the reviewer.</p>;\r\n    }\r\n  };\r\n\r\n  const renderModalContent = () => {\r\n    if (!modalAction) return null;\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"form-group\">\r\n                <label>Reason:</label>\r\n                <textarea\r\n                    value={rejectionReason}\r\n                    onChange={(e) => setRejectionReason(e.target.value)}\r\n                    rows=\"4\"\r\n                    style={{ width: '100%' }}\r\n                />\r\n            </div>\r\n            <button \r\n                className=\"button-primary\" \r\n                onClick={() => handleStatusUpdate('DRAFTING_AND_FILING', rejectionReason)}\r\n                disabled={!rejectionReason}\r\n            >\r\n                Confirm & Send to User\r\n            </button>\r\n        </div>\r\n    );\r\n  };\r\n  \r\n  if (loading) return <p>Loading application details...</p>;\r\n  if (error) return <p className=\"error-text\">{error}</p>;\r\n  if (!isAuthorized) return <p className=\"error-text\">You are not authorized to view this application.</p>;\r\n  if (!application) return <p>No application found.</p>;\r\n\r\n  const isReviewer = user.role === 'REVIEWER';\r\n  const currentStatusIndex = STAGES.indexOf(application.status);\r\n\r\n  return (\r\n    <>\r\n      <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title={`Action: ${formatStatus(modalAction)}`}>\r\n        {renderModalContent()}\r\n      </Modal>\r\n\r\n      <div className=\"detail-header\">\r\n        <div>\r\n          <h2>{application.title}</h2>\r\n          <p>ID: {application.id} | Submitted by: {application.submittedByUsername}</p>\r\n        </div>\r\n        <div className={`status-badge ${application.status.toLowerCase()}`}>\r\n          {formatStatus(application.status)}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"workflow-container\">\r\n        {STAGES.map((stage, index) => (\r\n          <div key={stage} className={`workflow-stage ${index === currentStatusIndex ? 'active' : ''} ${index < currentStatusIndex ? 'completed' : ''}`}>\r\n            <div className=\"workflow-dot\"></div>\r\n            <div className=\"workflow-label\">{formatStatus(stage)}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {statusChangeError && <p className=\"error-text\" style={{ textAlign: 'center' }}>{statusChangeError}</p>}\r\n      \r\n      {isReviewer ? (\r\n        <div className=\"reviewer-view\">\r\n          {renderReviewerActions()}\r\n          <div className=\"detail-tabs\">\r\n            <div className=\"tab-navigation\">\r\n              <button onClick={() => setAdminTab('dossier')} className={adminTab === 'dossier' ? 'active' : ''}>Dossier</button>\r\n              <button onClick={() => setAdminTab('notes')} className={adminTab === 'notes' ? 'active' : ''}>Review Notes</button>\r\n              <button onClick={() => setAdminTab('history')} className={adminTab === 'history' ? 'active' : ''}>History</button>\r\n            </div>\r\n            <div className=\"tab-content\">\r\n              {adminTab === 'dossier' && (\r\n                  <div>\r\n                    <h4>Application Dossier</h4>\r\n                    <p><strong>Description:</strong> {application.description}</p>\r\n                    {/* File list, etc. */}\r\n                  </div>\r\n              )}\r\n              {adminTab === 'notes' && <div><p>Internal review notes placeholder.</p></div>}\r\n              {adminTab === 'history' && <div><p>Application state history placeholder.</p></div>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"user-view\">\r\n            <div className=\"detail-card\">\r\n              <h3>Application Details</h3>\r\n              <p><strong>Description:</strong> {application.description}</p>\r\n              {application.rejectionReason && (\r\n                <div className=\"alert alert-warning\"><strong>Reason for Amendment:</strong> {application.rejectionReason}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"detail-card\">\r\n                <h3>My Actions</h3>\r\n                {renderUserActions()}\r\n            </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ApplicationDetail;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AAC/D,SAASC,kBAAkB,EAAEC,uBAAuB,EAAEC,YAAY,QAAQ,iBAAiB;AAC3F,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAO,uBAAuB;AAC9B,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzC,MAAMC,YAAY,GAAIC,MAAM,IAAK;EAC/B,IAAI,CAACA,MAAM,EAAE,OAAO,KAAK;EACzB,OAAOA,MAAM,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,eAAe,EAAGC,IAAI,IAAKA,IAAI,CAACC,WAAW,CAAC,CAAC,CAAC;AACvG,CAAC;AAED,MAAMC,MAAM,GAAG,CACb,qBAAqB,EAAE,uBAAuB,EAAE,yBAAyB,EACzE,iCAAiC,EAAE,yBAAyB,EAAE,uBAAuB,CACtF;AAED,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EACtC,MAAM;IAAEC;EAAG,CAAC,GAAGrB,SAAS,CAAC,CAAC;EAC1B,MAAMsB,QAAQ,GAAGrB,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAM,CAACsB,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC2B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC6B,KAAK,EAAEC,QAAQ,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC+B,YAAY,EAAEC,eAAe,CAAC,GAAGhC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACiC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;;EAE9D;EACA,MAAM,CAACmC,QAAQ,EAAEC,WAAW,CAAC,GAAGpC,QAAQ,CAAC,SAAS,CAAC;EACnD,MAAM,CAACqC,WAAW,EAAEC,cAAc,CAAC,GAAGtC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACtD,MAAM,CAACuC,WAAW,EAAEC,cAAc,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACyC,eAAe,EAAEC,kBAAkB,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EAE1DC,SAAS,CAAC,MAAM;IACd,MAAM0C,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMvC,kBAAkB,CAACkB,EAAE,CAAC;QAC7C,MAAMsB,UAAU,GAAGD,QAAQ,CAACE,IAAI;QAChCpB,cAAc,CAACmB,UAAU,CAAC;QAC1B,IAAIxB,IAAI,CAAC0B,IAAI,KAAK,UAAU,IAAK1B,IAAI,CAAC0B,IAAI,KAAK,MAAM,IAAIF,UAAU,CAACG,mBAAmB,KAAK3B,IAAI,CAAC4B,QAAS,EAAE;UAC1GjB,eAAe,CAAC,IAAI,CAAC;QACvB;MACF,CAAC,CAAC,OAAOkB,GAAG,EAAE;QACZpB,QAAQ,CAAC,sCAAsC,CAAC;MAClD,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IACD,IAAIP,IAAI,EAAEsB,gBAAgB,CAAC,CAAC;EAC9B,CAAC,EAAE,CAACpB,EAAE,EAAEF,IAAI,CAAC,CAAC;EAEd,MAAM8B,kBAAkB,GAAG,MAAAA,CAAOC,SAAS,EAAEC,MAAM,GAAG,EAAE,KAAK;IAC3DnB,oBAAoB,CAAC,EAAE,CAAC;IACxB,IAAI;MACF,MAAMU,QAAQ,GAAG,MAAMtC,uBAAuB,CAACiB,EAAE,EAAE;QAAET,MAAM,EAAEsC,SAAS;QAAEX,eAAe,EAAEY;MAAO,CAAC,CAAC;MAClG3B,cAAc,CAACkB,QAAQ,CAACE,IAAI,CAAC;MAC7BJ,kBAAkB,CAAC,EAAE,CAAC;MACtBF,cAAc,CAAC,KAAK,CAAC;MACrBF,cAAc,CAAC,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOY,GAAG,EAAE;MAAA,IAAAI,aAAA,EAAAC,kBAAA;MACZrB,oBAAoB,CAAC,4BAA4B,EAAAoB,aAAA,GAAAJ,GAAG,CAACN,QAAQ,cAAAU,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcR,IAAI,cAAAS,kBAAA,uBAAlBA,kBAAA,CAAoBC,OAAO,KAAIN,GAAG,CAACM,OAAO,EAAE,CAAC;IAChG;EACF,CAAC;EAED,MAAMC,SAAS,GAAIC,MAAM,IAAK;IAC5BpB,cAAc,CAACoB,MAAM,CAAC;IACtBlB,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMmB,qBAAqB,GAAGA,CAAA,KAAM;IAClC,MAAM7C,MAAM,GAAGW,WAAW,CAACX,MAAM;IACjC,oBACEJ,OAAA;MAAKkD,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3BnD,OAAA;QAAAmD,QAAA,EAAI;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACpBnD,MAAM,KAAK,uBAAuB,iBACjCJ,OAAA,CAAAE,SAAA;QAAAiD,QAAA,gBACEnD,OAAA;UAAQkD,SAAS,EAAC,gBAAgB;UAACM,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,yBAAyB,CAAE;UAAAU,QAAA,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAChIvD,OAAA;UAAQkD,SAAS,EAAC,gBAAgB;UAACM,OAAO,EAAEA,CAAA,KAAMT,SAAS,CAAC,mBAAmB,CAAE;UAAAI,QAAA,EAAC;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,eAC/G,CACH,EACAnD,MAAM,KAAK,yBAAyB,iBAAIJ,OAAA;QAAQwD,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,iCAAiC,CAAE;QAAAU,QAAA,EAAC;MAAsB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EACrJnD,MAAM,KAAK,iCAAiC,iBAAIJ,OAAA;QAAQwD,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,yBAAyB,CAAE;QAAAU,QAAA,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAChJnD,MAAM,KAAK,yBAAyB,iBACnCJ,OAAA,CAAAE,SAAA;QAAAiD,QAAA,gBACEnD,OAAA;UAAQkD,SAAS,EAAC,gBAAgB;UAACM,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,uBAAuB,CAAE;UAAAU,QAAA,EAAC;QAAuB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC/HvD,OAAA;UAAQkD,SAAS,EAAC,eAAe;UAACM,OAAO,EAAEA,CAAA,KAAMT,SAAS,CAAC,QAAQ,CAAE;UAAAI,QAAA,EAAC;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,eACnG,CACH,EACAnD,MAAM,KAAK,uBAAuB,iBAAIJ,OAAA;QAAAmD,QAAA,EAAG;MAAgC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,EAC7EnD,MAAM,KAAK,qBAAqB,iBAAIJ,OAAA;QAAAmD,QAAA,EAAG;MAA2B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpE,CAAC;EAEV,CAAC;EAED,MAAME,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,MAAMrD,MAAM,GAAGW,WAAW,CAACX,MAAM;IAChC,IAAIW,WAAW,CAACgB,eAAe,IAAI3B,MAAM,KAAK,qBAAqB,EAAE;MACpE,oBAAOJ,OAAA,CAACN,IAAI;QAACgE,EAAE,EAAE,iBAAiB7C,EAAE,QAAS;QAACqC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAAC;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IACvG;IACA,QAAQnD,MAAM;MACZ,KAAK,qBAAqB;QACxB,oBAAOJ,OAAA;UAAQwD,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,uBAAuB,CAAE;UAAAU,QAAA,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAC5G,KAAK,iCAAiC;QACpC,oBAAOvD,OAAA;UAAQwD,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,yBAAyB,CAAE;UAAAU,QAAA,EAAC;QAAgC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MACxH,KAAK,uBAAuB;QAC1B,oBAAOvD,OAAA,CAACN,IAAI;UAACgE,EAAE,EAAE,iBAAiB7C,EAAE,UAAW;UAACqC,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAC5G;QACE,oBAAOvD,OAAA;UAAAmD,QAAA,EAAG;QAAiE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;IACnF;EACF,CAAC;EAED,MAAMI,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI,CAAChC,WAAW,EAAE,OAAO,IAAI;IAE7B,oBACI3B,OAAA;MAAAmD,QAAA,gBACInD,OAAA;QAAKkD,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACvBnD,OAAA;UAAAmD,QAAA,EAAO;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtBvD,OAAA;UACI4D,KAAK,EAAE7B,eAAgB;UACvB8B,QAAQ,EAAGC,CAAC,IAAK9B,kBAAkB,CAAC8B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UACpDI,IAAI,EAAC,GAAG;UACRC,KAAK,EAAE;YAAEC,KAAK,EAAE;UAAO;QAAE;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACNvD,OAAA;QACIkD,SAAS,EAAC,gBAAgB;QAC1BM,OAAO,EAAEA,CAAA,KAAMf,kBAAkB,CAAC,qBAAqB,EAAEV,eAAe,CAAE;QAC1EoC,QAAQ,EAAE,CAACpC,eAAgB;QAAAoB,QAAA,EAC9B;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAEZ,CAAC;EAED,IAAItC,OAAO,EAAE,oBAAOjB,OAAA;IAAAmD,QAAA,EAAG;EAA8B;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EACzD,IAAIpC,KAAK,EAAE,oBAAOnB,OAAA;IAAGkD,SAAS,EAAC,YAAY;IAAAC,QAAA,EAAEhC;EAAK;IAAAiC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EACvD,IAAI,CAAClC,YAAY,EAAE,oBAAOrB,OAAA;IAAGkD,SAAS,EAAC,YAAY;IAAAC,QAAA,EAAC;EAAgD;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EACxG,IAAI,CAACxC,WAAW,EAAE,oBAAOf,OAAA;IAAAmD,QAAA,EAAG;EAAqB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAErD,MAAMa,UAAU,GAAGzD,IAAI,CAAC0B,IAAI,KAAK,UAAU;EAC3C,MAAMgC,kBAAkB,GAAG5D,MAAM,CAAC6D,OAAO,CAACvD,WAAW,CAACX,MAAM,CAAC;EAE7D,oBACEJ,OAAA,CAAAE,SAAA;IAAAiD,QAAA,gBACEnD,OAAA,CAACF,KAAK;MAACyE,MAAM,EAAE1C,WAAY;MAAC2C,OAAO,EAAEA,CAAA,KAAM1C,cAAc,CAAC,KAAK,CAAE;MAAC2C,KAAK,EAAE,WAAWtE,YAAY,CAACwB,WAAW,CAAC,EAAG;MAAAwB,QAAA,EAC7GQ,kBAAkB,CAAC;IAAC;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChB,CAAC,eAERvD,OAAA;MAAKkD,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5BnD,OAAA;QAAAmD,QAAA,gBACEnD,OAAA;UAAAmD,QAAA,EAAKpC,WAAW,CAAC0D;QAAK;UAAArB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC5BvD,OAAA;UAAAmD,QAAA,GAAG,MAAI,EAACpC,WAAW,CAACF,EAAE,EAAC,mBAAiB,EAACE,WAAW,CAACuB,mBAAmB;QAAA;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1E,CAAC,eACNvD,OAAA;QAAKkD,SAAS,EAAE,gBAAgBnC,WAAW,CAACX,MAAM,CAACC,WAAW,CAAC,CAAC,EAAG;QAAA8C,QAAA,EAChEhD,YAAY,CAACY,WAAW,CAACX,MAAM;MAAC;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENvD,OAAA;MAAKkD,SAAS,EAAC,oBAAoB;MAAAC,QAAA,EAChC1C,MAAM,CAACiE,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,kBACvB5E,OAAA;QAAiBkD,SAAS,EAAE,kBAAkB0B,KAAK,KAAKP,kBAAkB,GAAG,QAAQ,GAAG,EAAE,IAAIO,KAAK,GAAGP,kBAAkB,GAAG,WAAW,GAAG,EAAE,EAAG;QAAAlB,QAAA,gBAC5InD,OAAA;UAAKkD,SAAS,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACpCvD,OAAA;UAAKkD,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAEhD,YAAY,CAACwE,KAAK;QAAC;UAAAvB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,GAFnDoB,KAAK;QAAAvB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGV,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAELhC,iBAAiB,iBAAIvB,OAAA;MAAGkD,SAAS,EAAC,YAAY;MAACe,KAAK,EAAE;QAAEY,SAAS,EAAE;MAAS,CAAE;MAAA1B,QAAA,EAAE5B;IAAiB;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEtGa,UAAU,gBACTpE,OAAA;MAAKkD,SAAS,EAAC,eAAe;MAAAC,QAAA,GAC3BF,qBAAqB,CAAC,CAAC,eACxBjD,OAAA;QAAKkD,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BnD,OAAA;UAAKkD,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BnD,OAAA;YAAQwD,OAAO,EAAEA,CAAA,KAAM9B,WAAW,CAAC,SAAS,CAAE;YAACwB,SAAS,EAAEzB,QAAQ,KAAK,SAAS,GAAG,QAAQ,GAAG,EAAG;YAAA0B,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClHvD,OAAA;YAAQwD,OAAO,EAAEA,CAAA,KAAM9B,WAAW,CAAC,OAAO,CAAE;YAACwB,SAAS,EAAEzB,QAAQ,KAAK,OAAO,GAAG,QAAQ,GAAG,EAAG;YAAA0B,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACnHvD,OAAA;YAAQwD,OAAO,EAAEA,CAAA,KAAM9B,WAAW,CAAC,SAAS,CAAE;YAACwB,SAAS,EAAEzB,QAAQ,KAAK,SAAS,GAAG,QAAQ,GAAG,EAAG;YAAA0B,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/G,CAAC,eACNvD,OAAA;UAAKkD,SAAS,EAAC,aAAa;UAAAC,QAAA,GACzB1B,QAAQ,KAAK,SAAS,iBACnBzB,OAAA;YAAAmD,QAAA,gBACEnD,OAAA;cAAAmD,QAAA,EAAI;YAAmB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC5BvD,OAAA;cAAAmD,QAAA,gBAAGnD,OAAA;gBAAAmD,QAAA,EAAQ;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACxC,WAAW,CAAC+D,WAAW;YAAA;cAAA1B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAE3D,CACR,EACA9B,QAAQ,KAAK,OAAO,iBAAIzB,OAAA;YAAAmD,QAAA,eAAKnD,OAAA;cAAAmD,QAAA,EAAG;YAAkC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,EAC5E9B,QAAQ,KAAK,SAAS,iBAAIzB,OAAA;YAAAmD,QAAA,eAAKnD,OAAA;cAAAmD,QAAA,EAAG;YAAsC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,gBAENvD,OAAA;MAAKkD,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACtBnD,OAAA;QAAKkD,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BnD,OAAA;UAAAmD,QAAA,EAAI;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5BvD,OAAA;UAAAmD,QAAA,gBAAGnD,OAAA;YAAAmD,QAAA,EAAQ;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACxC,WAAW,CAAC+D,WAAW;QAAA;UAAA1B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAC7DxC,WAAW,CAACgB,eAAe,iBAC1B/B,OAAA;UAAKkD,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAACnD,OAAA;YAAAmD,QAAA,EAAQ;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACxC,WAAW,CAACgB,eAAe;QAAA;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAC/G;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACNvD,OAAA;QAAKkD,SAAS,EAAC,aAAa;QAAAC,QAAA,gBACxBnD,OAAA;UAAAmD,QAAA,EAAI;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAClBE,iBAAiB,CAAC,CAAC;MAAA;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN;EAAA,eACD,CAAC;AAEP,CAAC;AAAC3C,EAAA,CAlMIF,iBAAiB;EAAA,QACNlB,SAAS,EACPC,WAAW;AAAA;AAAAsF,EAAA,GAFxBrE,iBAAiB;AAoMvB,eAAeA,iBAAiB;AAAC,IAAAqE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}