{"ast":null,"code":"import axios from\"axios\";const BASE_URL=\"http://localhost:8080/api\";// -------------------- AUTH --------------------\n// Đăng ký user\nexport const register=data=>axios.post(\"\".concat(BASE_URL,\"/auth/register\"),data);// Đăng nhập user\nexport const login=(username,password)=>axios.post(\"\".concat(BASE_URL,\"/auth/login\"),{username,password});// -------------------- DASHBOARD --------------------\n// Lấy thống kê cho dashboard\nexport const getDashboardStats=userId=>axios.get(\"\".concat(BASE_URL,\"/dashboard/stats/\").concat(userId));// -------------------- APPLICATIONS --------------------\n// Lấy tất cả applications, có thể có filter\nexport const getAllApplications=function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const params=new URLSearchParams();if(filters.status){params.append('status',filters.status);}return axios.get(\"\".concat(BASE_URL,\"/applications\"),{params});};// Lấy tất cả applications cho một user\nexport const getApplicationsByUserId=userId=>axios.get(\"\".concat(BASE_URL,\"/applications/user/\").concat(userId));// Lấy chi tiết 1 application theo id\nexport const getApplicationById=id=>axios.get(\"\".concat(BASE_URL,\"/applications/\").concat(id));// Tạo application (có thể upload file)\nexport const createApplication=formData=>axios.post(\"\".concat(BASE_URL,\"/applications\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});// Cập nhật trạng thái application\nexport const updateApplicationStatus=(id,_ref)=>{let{status,rejectionReason}=_ref;return axios.patch(\"\".concat(BASE_URL,\"/applications/\").concat(id,\"/status\"),{status,rejectionReason});};// Download file\nexport const downloadFile=async(fileId,fileName)=>{const response=await axios.get(\"\".concat(BASE_URL,\"/applications/files/\").concat(fileId),{responseType:\"blob\"// quan trọng để nhận file\n});// Tạo link tải file\nconst url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement(\"a\");link.href=url;link.setAttribute(\"download\",fileName||\"file\");document.body.appendChild(link);link.click();link.remove();};","map":{"version":3,"names":["axios","BASE_URL","register","data","post","concat","login","username","password","getDashboardStats","userId","get","getAllApplications","filters","arguments","length","undefined","params","URLSearchParams","status","append","getApplicationsByUserId","getApplicationById","id","createApplication","formData","headers","updateApplicationStatus","_ref","rejectionReason","patch","downloadFile","fileId","fileName","response","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove"],"sources":["C:/Users/Admin/OneDrive/Máy tính/Báo cáo project 1/SHTT_NEW/ip-management-frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://localhost:8080/api\";\r\n\r\n// -------------------- AUTH --------------------\r\n\r\n// Đăng ký user\r\nexport const register = (data) => axios.post(`${BASE_URL}/auth/register`, data);\r\n\r\n// Đăng nhập user\r\nexport const login = (username, password) => axios.post(`${BASE_URL}/auth/login`, { username, password });\r\n\r\n// -------------------- DASHBOARD --------------------\r\n\r\n// Lấy thống kê cho dashboard\r\nexport const getDashboardStats = (userId) => axios.get(`${BASE_URL}/dashboard/stats/${userId}`);\r\n\r\n// -------------------- APPLICATIONS --------------------\r\n\r\n// Lấy tất cả applications, có thể có filter\r\nexport const getAllApplications = (filters = {}) => {\r\n    const params = new URLSearchParams();\r\n    if (filters.status) {\r\n        params.append('status', filters.status);\r\n    }\r\n    return axios.get(`${BASE_URL}/applications`, { params });\r\n};\r\n\r\n// Lấy tất cả applications cho một user\r\nexport const getApplicationsByUserId = (userId) => axios.get(`${BASE_URL}/applications/user/${userId}`);\r\n\r\n// Lấy chi tiết 1 application theo id\r\nexport const getApplicationById = (id) =>\r\n  axios.get(`${BASE_URL}/applications/${id}`);\r\n\r\n// Tạo application (có thể upload file)\r\nexport const createApplication = (formData) =>\r\n  axios.post(`${BASE_URL}/applications`, formData, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  });\r\n\r\n// Cập nhật trạng thái application\r\nexport const updateApplicationStatus = (id, { status, rejectionReason }) =>\r\n  axios.patch(`${BASE_URL}/applications/${id}/status`, { status, rejectionReason });\r\n\r\n// Download file\r\nexport const downloadFile = async (fileId, fileName) => {\r\n  const response = await axios.get(`${BASE_URL}/applications/files/${fileId}`, {\r\n    responseType: \"blob\", // quan trọng để nhận file\r\n  });\r\n\r\n  // Tạo link tải file\r\n  const url = window.URL.createObjectURL(new Blob([response.data]));\r\n  const link = document.createElement(\"a\");\r\n  link.href = url;\r\n  link.setAttribute(\"download\", fileName || \"file\");\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  link.remove();\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}